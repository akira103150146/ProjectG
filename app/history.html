<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/form.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/sidebar.css" type="text/css" media="screen" />   
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script>
        let $ = require('jquery')
        let jQuery = require('jquery')      
    </script>
    <script type="text/javascript" src="js/lib/header.js"></script>
    <script type="text/javascript" src="js/lib/redips-table-min.js"></script>
    <script type="text/javascript" src="js/lib/script.js"></script>  
    <script>
        var ipcrender = require('electron').ipcRenderer
        ipcrender.on('reply-history', (event, arg) => {
            console.log(arg)
            redips.showlist(arg)
        })
        ipcrender.on('update-form', (event, content, tag) => {
            redips.updateform(content, tag)
        })
        ipcrender.on('bind_devices', (event, ids) => {
            console.log(ids)
        })
        $(document).ready(function () {
            ipcrender.send('ready-to-show', 'history')
            $('#bagi').on('click', () => {
                ipcrender.send('switch_page', 0)
            })
            $('#setting').on('click', () => {
                ipcrender.send('switch_page', 1)
            })
            $('#form').on('click', () => {
                ipcrender.send('switch_page', 2)
            })
            $('#member').on('click', () => {
                ipcrender.send('switch_page', 3)
            })
            $('#info').on('click', () => {
                ipcrender.send('switch_page', 4)
            })
            $('#post').on('click', () => {
                ipcrender.send('switch_page', 5)
            })
            $('#histroy').on('click', () => {
                ipcrender.send('switch_page', 6)
            })
            $('#assign').on('click', () => {
                ipcrender.send('switch_page', 7)
            })
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
            });
            $('#close_btn').on('click', () => {
                $('#sidebar').toggleClass('active');
            })
            $('#logout_btn').click(function () {
                ipcrender.send('logout')
            })
        });      
    </script>
</head>

<body>
    <div class="wrapper">
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3 id="close_btn">Close &times;</h3>
                <h3 id="user-name">AKIRA</h3>
                <button id="logout_btn">登出</button>
            </div>
            <ul>
                <li>
                    <a id="post">公佈欄</a>
                </li>
                <li>
                    <a id="form">巡檢表單編輯</a>
                </li>
                <li>
                    <a id="setting">巡檢設備設定</a>
                </li>
                <li>
                    <a id="bagi">巡檢任務派遣</a>
                </li>
                <li>
                    <a id="assign">巡檢排程設定</a>
                </li>
                <li>
                    <a id="info">維修主配件庫存查詢</a>
                </li>
                <li class="active">
                    <a id="history">運維歷史表單查詢</a>
                </li>
                <li>
                    <a id="member">巡檢人員帳戶設定</a>
                </li>
            </ul>
        </nav>
        <div id="myContainer">
            <button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn">
                <i class="glyphicon glyphicon-align-left"></i>
                ☰
            </button>

            <div class="scroll-menu">
                <ul id="form-list">
                </ul>
            </div>
           
            <div class="form_attribute">
                ID
                <input type="text" id="ID" value="" disabled /> 標題
                <input type="text" id="title" value="" /> 創建日期
                <input type="text" id="date" value="" disabled />
            </div>
            <table id="mainTable">
                <tbody>
                    <tr>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                        <td contenteditable="true"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>

</html>